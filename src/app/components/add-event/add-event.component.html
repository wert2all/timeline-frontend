<div class="tooltip" data-tip="add new event">
  <a
    class="btn btn-circle btn-accent"
    (click)="showModal()"
    (keyup)="showModal()"
    tabindex="0"
    ><ng-icon name="saxAddOutline" size="24"></ng-icon
  ></a>
</div>
<app-modal [show]="shouldShow()" (onClosed)="onClosed()" [title]="title()">
  <ul class="steps mt-4 w-full">
    @for (step of steps(); track $index) {
      <li class="step" [class.step-primary]="step.isActive"></li>
    }
  </ul>
  <div class="divider"></div>
  <div class="px-8">
    @if (this.activeStep() === 0) {
      <label class="form-control">
        <div class="label">
          <span class="label-text">Select date of your event</span>
        </div>
        <label class="input input-bordered input-error flex items-center gap-2">
          <input type="text" class="w-full grow" />
          <ng-icon
            class="cursor-pointer"
            name="saxCalendar1Outline"
            size="24"
            (click)="selectDate()"></ng-icon>
        </label>
        <div class="label">
          <span class="label-text-alt text-error">Label error!</span>
        </div>
      </label>
      <div class="form-control">
        <label class="label cursor-pointer">
          <span class="label-text">Add time</span>
          <input type="checkbox" class="toggle" checked />
        </label>
        <label class="label cursor-pointer">
          <span class="label-text">Show time on timeline</span>
          <input type="checkbox" class="toggle" checked />
        </label>
      </div>
    }
    @if (this.activeStep() === 1) {
      <label class="form-control">
        <div class="label">
          <span class="label-text">Title</span>
        </div>
        <label class="input input-bordered flex items-center gap-2">
          <input type="text" class="w-full grow" />
        </label>
      </label>
      <label class="form-control">
        <div class="label">
          <span class="label-text">Content</span>
        </div>
        <textarea
          class="textarea textarea-bordered h-24 w-full max-w-xs"></textarea>
        <div class="label">
          <span class="label-text-alt text-error">Error</span>
        </div>
      </label>
    }
    @if (this.activeStep() === 2) {
      <label class="form-control">
        <div class="label">
          <span class="label-text">Tags</span>
        </div>
        <label class="input input-bordered flex items-center gap-2">
          <input
            type="text"
            class="w-full"
            (keyup.enter)="addTag()"
            [formControl]="tag" />
        </label>
        <div class="label">
          <span class="label-text-alt">
            Pressing Enter will add a tag. You can add multiple tags, separated
            by commas.
          </span>
        </div>
      </label>
      <app-add-event-tags
        [tags]="addedTags()"
        (clickToTag)="removeTag($event)"></app-add-event-tags>
    }
  </div>
  <div class="modal-action">
    <button
      class="btn"
      [attr.disabled]="disablePrevious() ? true : null"
      (click)="goPrevious()">
      <ng-icon name="saxArrowLeft3Outline" size="24"></ng-icon>
      Previous
    </button>
    <button
      class="btn"
      [attr.disabled]="disableNext() ? true : null"
      (click)="goNext()">
      Next <ng-icon name="saxArrowRight2Outline" size="24"></ng-icon>
    </button>
    <button class="btn btn-primary" [attr.disabled]="!couldAdd() ? true : null">
      Add
      <ng-icon name="saxCalendarAddOutline" size="24"></ng-icon>
    </button>
  </div>
</app-modal>
